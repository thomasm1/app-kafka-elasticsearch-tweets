services:
  mysql:
    container_name: mysqlcontainer
    restart: always
    image: 'thomasm1/mysql:latest'
    environment:
      MYSQL_URL: ${AWS_MYSQL_URL}
      MYSQL_PASSWORD: ${AWS_MYSQL_PASSWORD}
      MYSQL_USER: ${AWS_MYSQL_USER}
      MYSQL_DATABASE: dashboarddb
      MYSQL_DEFAULT_EMAIL: ${MYSQL_EMAIL}
      MYSQL_DEFAULT_PASSWORD: ${MYSQL_EMAIL_PASSWORD}
    expose:
      - 3306
    ports:
      - 3306: 3306
    volumes:
      - 'mysql-data:/var/lib/mysql'
      - './schema.sql:/docker-entrypoint-initdb.dl/schema-mysql.sql'
